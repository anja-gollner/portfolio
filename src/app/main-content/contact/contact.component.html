<section class="contact">
  <div class="contact-text">
    <h3>{{ "contact.subtitle" | translate }}</h3>
    <h2>{{ "contact.title" | translate }}</h2>
    <span>{{ "contact.question1" | translate }}</span>
    <p>{{ "contact.text" | translate }}</p>
    <p>
      {{ "contact.question2" | translate }}
      <span>{{ "contact.cta" | translate }}</span>
    </p>
  </div>
  <div class="contact-form">
    <form (ngSubmit)="onSubmit(contactForm)" #contactForm="ngForm">
      <div class="form-row">
        <label for="fname">{{ "contactForm.nameLabel" | translate }}</label>
        <input
          #name="ngModel"
          [(ngModel)]="contactData.name"
          type="text"
          id="name"
          name="name"
          [placeholder]="
            !name.valid && name.touched
              ? ('contactForm.nameError' | translate)
              : ('contactForm.namePlaceholder' | translate)
          "
          required
        />
      </div>
    
      <div class="form-row">
        <label for="email">{{ "contactForm.emailLabel" | translate }}</label>
        <input
          #email="ngModel"
          [(ngModel)]="contactData.email"
          type="email"
          id="email"
          name="email"
          [placeholder]="
            !email.valid && email.touched
              ? ('contactForm.emailError' | translate)
              : ('contactForm.emailPlaceholder' | translate)
          "
          required
          pattern="[a-zA-Z0-9._%+\-]+@[a-zA-Z0-9.\-]+\.[a-zA-Z]{2,}"
        />
        @if(formSubmitted && email.errors?.['pattern']) {
          <div class="error">
            {{ "contactForm.emailInvalid" | translate }}
          </div>
        }
      </div>
    
      <div class="form-row border-bottom">
        <label for="message">{{ "contactForm.messageLabel" | translate }}</label>
        <textarea
          #message="ngModel"
          rows="1"
          [(ngModel)]="contactData.message"
          id="subject"
          name="subject"
          [placeholder]="
            !message.valid && message.touched
              ? ('contactForm.messageError' | translate)
              : ('contactForm.messagePlaceholder' | translate)
          "
          required
        ></textarea>
      </div>

      <input type="submit" value="Submit" />
    </form>
  </div>
</section>

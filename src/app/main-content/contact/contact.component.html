<section data-aos="fade-left" class="contact">
  <div class="contact-text">
    <h3>{{ "contact.subtitle" | translate }}</h3>
    <h2>{{ "contact.title" | translate }}</h2>
    <span>{{ "contact.question1" | translate }}</span>
    <p>{{ "contact.text" | translate }}</p>
    <p>
      {{ "contact.question2" | translate }}
      <span>{{ "contact.cta" | translate }}</span>
    </p>
  </div>

  <form (ngSubmit)="onSubmit(contactForm)" #contactForm="ngForm">
    <div class="form-row form-name">
      <label for="fname">{{ "contactForm.nameLabel" | translate }}</label>
      <input
        #name="ngModel"
        [(ngModel)]="contactData.name"
        type="text"
        id="name"
        name="name"
        [placeholder]="
          !name.valid && name.touched
            ? ('contactForm.nameError' | translate)
            : ('contactForm.namePlaceholder' | translate)
        "
        required
      />
    </div>

    <div class="form-row">
      <label for="email">{{ "contactForm.emailLabel" | translate }}</label>
      <input
        #email="ngModel"
        [(ngModel)]="contactData.email"
        type="email"
        id="email"
        name="email"
        [placeholder]="
          !email.valid && email.touched
            ? ('contactForm.emailError' | translate)
            : ('contactForm.emailPlaceholder' | translate)
        "
        required
        pattern="[a-zA-Z0-9._%+\-]+@[a-zA-Z0-9.\-]+\.[a-zA-Z]{2,}"
      />
      @if(formSubmitted && email.errors?.['pattern']) {
      <div class="error">
        {{ "contactForm.emailInvalid" | translate }}
      </div>
      }
    </div>

    <div class="form-row border-bottom">
      <label for="message">{{ "contactForm.messageLabel" | translate }}</label>
      <textarea
        class="fontKarla"
        #message="ngModel"
        rows="1"
        [(ngModel)]="contactData.message"
        id="subject"
        name="subject"
        [placeholder]="
          !message.valid && message.touched
            ? ('contactForm.messageError' | translate)
            : ('contactForm.messagePlaceholder' | translate)
        "
        required
      ></textarea>
    </div>

    <div class="checkbox">
      <input
        #privacyPolicy="ngModel"
        type="checkbox"
        id="privacyPolicy"
        name="privacyPolicy"
        [(ngModel)]="privacyPolicyChecked"
        required
      />
      <label for="privacyPolicy">
        {{ "contactForm.privacyPolicy1" | translate }}
        <a routerLink="/privacy-policy">{{
          "contactForm.privacyPolicy2" | translate
        }}</a>
        {{ "contactForm.privacyPolicy3" | translate }}
      </label>
    </div>

    <span *ngIf="!privacyPolicyChecked && formSubmitted" class="error">
      {{ "contactForm.privacyPolicyError" | translate }}
    </span>
    <div class="submit-form">
      <button
        class="submit-btn"
        [class.form-valid]="contactForm.valid"
        [disabled]="!privacyPolicyChecked || !contactForm.valid"
        type="submit"
      >
        <span>{{ "contactForm.submitBtn" | translate }}</span>
      </button>
    </div>
    <span *ngIf="emailSent" class="success">
      {{ "contactForm.successMessage" | translate }}
    </span>
  </form>
</section>

<!-- <form (ngSubmit)="onSubmit(contactForm)" #contactForm="ngForm">
  <div class="form-row">
    <label for="fname">{{ "contactForm.nameLabel" | translate }}</label>
    <input
      #name="ngModel"
      [(ngModel)]="contactData.name"
      type="text"
      id="name"
      name="name"
      [placeholder]="
        !name.valid && name.touched
          ? ('contactForm.nameError' | translate)
          : ('contactForm.namePlaceholder' | translate)
      "
      required
    />
  </div>

  <div class="form-row">
    <label for="email">{{ "contactForm.emailLabel" | translate }}</label>
    <input
      #email="ngModel"
      [(ngModel)]="contactData.email"
      type="email"
      id="email"
      name="email"
      [placeholder]="
        !email.valid && email.touched
          ? ('contactForm.emailError' | translate)
          : ('contactForm.emailPlaceholder' | translate)
      "
      required
      pattern="[a-zA-Z0-9._%+\-]+@[a-zA-Z0-9.\-]+\.[a-zA-Z]{2,}"
    />
    @if(formSubmitted && email.errors?.['pattern']) {
      <div class="error">
        {{ "contactForm.emailInvalid" | translate }}
      </div>
    }
  </div>

  <div class="form-row border-bottom">
    <label for="message">{{ "contactForm.messageLabel" | translate }}</label>
    <textarea
      #message="ngModel"
      rows="1"
      [(ngModel)]="contactData.message"
      id="subject"
      name="subject"
      [placeholder]="
        !message.valid && message.touched
          ? ('contactForm.messageError' | translate)
          : ('contactForm.messagePlaceholder' | translate)
      "
      required
    ></textarea>
  </div>

  <div class="checkbox">
    <input
      #privacyPolicy="ngModel"
      type="checkbox"
      id="privacyPolicy"
      name="privacyPolicy"
      [(ngModel)]="privacyPolicyChecked"
      required
    />
    <label for="privacyPolicy">
      {{ "contactForm.privacyPolicy1" | translate }}
      <a routerLink="/privacy-policy">{{
        "contactForm.privacyPolicy2" | translate
      }}</a>
      {{ "contactForm.privacyPolicy3" | translate }}
    </label>
  </div>
  @if(!privacyPolicyChecked && formSubmitted) {
  <span class="error">
    {{ "contactForm.privacyPolicyError" | translate }}
  </span>
  }
  <button
    class="submit-btn"
    [class.form-valid]="contactForm.valid"
    type="submit"
  >
    <span>{{ "contactForm.submitBtn" | translate }}</span>
  </button>
</form>
@if(emailSent){
<span class="success">{{ "contactForm.successMessage" | translate }}</span>
} -->
